<!DOCTYPE HTML>
<html>

<head>
    <title>canvas练习——绘制路径/文本/变换</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scaleble=no">
    <meta name="HandheldFriendly" content="true">
</head>

<body>
    <canvas id="draw1" width="200" height="200"></canvas>
    <canvas id="draw2" width="200" height="200"></canvas>
    <canvas id="draw3" width="200" height="200"></canvas>
    <canvas id="draw4" width="200" height="200"></canvas>
    <canvas id="draw5" width="200" height="200"></canvas>
    <script>
        //路径
        var draw1 = document.getElementById("draw1");
        if (draw1.getContext) {
            var context = draw1.getContext("2d");
            context.beginPath(); //开始路径
            context.arc(100, 100, 99, 0, 2 * Math.PI, false);
            context.moveTo(194, 100);
            context.arc(100, 100, 94, 0, 2 * Math.PI, false);
            context.moveTo(100, 100);
            context.lineTo(100, 28);
            context.moveTo(100, 100);
            context.lineTo(40, 100);
            if (context.isPointInPath(50, 50)) {
                alert("Point (94,94) is in the path.");
            }
            context.stroke(); //描边路径
        }
        //文本
        var draw2 = document.getElementById("draw2");
        if (draw2.getContext) {
            var context = draw2.getContext("2d");
            context.beginPath();
            context.arc(100, 100, 99, 0, 2 * Math.PI, false);
            context.moveTo(194, 100);
            context.arc(100, 100, 94, 0, 2 * Math.PI, false);
            context.moveTo(100, 100);
            context.lineTo(100, 28);
            context.moveTo(100, 100);
            context.lineTo(40, 100);
            context.stroke(); //描边路径
            context.font = "bold 14px Arial";
            context.textAlign = "center";
            context.textBaseline = "middle";
            context.fillText("12", 100, 20);
            context.textBaseline = "top";
            context.fillText("12", 100, 20);
            context.textAlign = "start";
            context.fillText("12", 100, 40);
            context.textAlign = "end";
            context.fillText("12", 100, 60);
        }
        var draw3 = document.getElementById("draw3");
        if (draw3.getContext) {
            var context = draw3.getContext("2d");
            var fontsize = 200;
            context.font = fontsize + "px Arial";
            while (context.measureText("Hello world!asjdgaj").width > 200) {
                fontsize--;
                context.font = fontsize + "px Arial";
            }
            context.textAlign = "start";
            context.textBaseline = "top";
            context.fillText("Hello world!asjdgaj", 10, 10);
            context.fillText("Hello world!asjdgaj", 20, 40);
            context.fillText("Font size is " + fontsize + "px", 10, 80);
        }
        //变换
        var draw4 = document.getElementById("draw4");
        if (draw4.getContext) {
            var context = draw4.getContext("2d");
            context.beginPath();
            context.arc(100, 100, 99, 0, 2 * Math.PI, false);
            context.moveTo(194, 100);
            context.arc(100, 100, 94, 0, 2 * Math.PI, false);
            context.translate(100, 100);
            context.rotate(1);
            context.moveTo(0, 0);
            context.lineTo(0, -85);
            context.moveTo(0, 0);
            context.lineTo(-65, 0);
            context.stroke();
        }
        //save,restore
        var draw5 = document.getElementById("draw5");
        if (draw5.getContext) {
            var context = draw5.getContext("2d");
            context.fillStyle = "red";
            context.save();
            context.fillStyle = "blue";
            context.translate(100, 100);
            context.save();
            context.fillStyle = "green";
            context.fillRect(0, 0, 100, 200);
            context.restore();
            context.fillRect(10, 10, 100, 200);
            context.restore();
            context.fillRect(0, 0, 100, 200);
        }
    </script>

</body>

</html>